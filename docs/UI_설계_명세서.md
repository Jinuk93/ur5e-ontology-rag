# UR5e Ontology RAG - UI ì„¤ê³„ ëª…ì„¸ì„œ

> **ë¬¸ì„œ ë²„ì „**: 1.0
> **ì‘ì„±ì¼**: 2026-01-23
> **ëŒ€ìƒ**: í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 ë¬´ì—‡ì„ ë§Œë“œëŠ”ê°€?

**ì œì¡° í˜„ì¥ìš© AI ì§„ë‹¨ ëŒ€ì‹œë³´ë“œ**ì…ë‹ˆë‹¤.

- **UR5e í˜‘ë™ë¡œë´‡** + **Axia80 í˜/í† í¬ ì„¼ì„œ** ë°ì´í„°ë¥¼ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- ì´ìƒ ë°œìƒ ì‹œ **ì›ì¸ ë¶„ì„** + **ì¡°ì¹˜ ë°©ë²•**ì„ AIê°€ ì œì•ˆ
- íŒ”ë€í‹°ì–´(Palantir) ìŠ¤íƒ€ì¼ì˜ **ê°ì²´ ì¤‘ì‹¬ UI**

### 1.2 ì‚¬ìš©ìëŠ” ëˆ„êµ¬ì¸ê°€?

| ì—­í•  | ì£¼ìš” ë‹ˆì¦ˆ | ì‚¬ìš© ë¹ˆë„ |
|------|----------|----------|
| **í˜„ì¥ ì˜¤í¼ë ˆì´í„°** | "ì§€ê¸ˆ ë¬¸ì œ ìˆì–´? ë­ í•´ì•¼ í•´?" | ìƒì‹œ |
| **ì •ë¹„ ì—”ì§€ë‹ˆì–´** | "ì™œ ì´ëŸ° ê±°ì•¼? ì´ì „ì—ë„ ìˆì—ˆì–´?" | ì´ìƒ ë°œìƒ ì‹œ |
| **í’ˆì§ˆ ê´€ë¦¬ì** | "ì¶”ì„¸ê°€ ì–´ë•Œ? ì˜ˆë°© í•„ìš”í•´?" | ì£¼ê¸°ì  |

### 1.3 í•µì‹¬ ì„¤ê³„ ì›ì¹™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                         â”‚
â”‚   ğŸ¯ 3ì´ˆ ë£°: í™”ë©´ì„ ë³´ê³  3ì´ˆ ì•ˆì— ìƒí™© íŒŒì•… ê°€ëŠ¥í•´ì•¼ í•¨  â”‚
â”‚                                                         â”‚
â”‚   ğŸ“¦ ê°ì²´ ì¤‘ì‹¬: ëª¨ë“  ê²ƒì€ "ê°ì²´(Object)"ë¡œ í‘œí˜„          â”‚
â”‚                                                         â”‚
â”‚   ğŸ”— ê´€ê³„ ê°€ì‹œí™”: "ì™œ?"ë¥¼ í´ë¦­í•˜ë©´ ê·¼ê±° ê²½ë¡œê°€ ë³´ì„      â”‚
â”‚                                                         â”‚
â”‚   â±ï¸ ì‹œê°„ì¶• ì—°ë™: ê³¼ê±° ë°ì´í„°ì™€ í˜„ì¬ê°€ ì—°ê²°ë¨            â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ë°ì´í„° êµ¬ì¡° ì´í•´

### 2.1 í•µì‹¬ ë°ì´í„° íƒ€ì…

í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë‹¤ë£¨ê²Œ ë  ì£¼ìš” ë°ì´í„°ì…ë‹ˆë‹¤.

#### ê°ì²´(Entity) íƒ€ì…

| íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œ | ì•„ì´ì½˜ |
|------|------|------|--------|
| `ROBOT` | ë¡œë´‡ | UR5e | ğŸ¤– |
| `SENSOR` | ì„¼ì„œ | Axia80 | ğŸ“¡ |
| `MEASUREMENT_AXIS` | ì¸¡ì •ì¶• | Fz, Fx, Fy, Tx, Ty, Tz | ğŸ“Š |
| `STATE` | ìƒíƒœ | State_Normal, State_Warning, State_Critical | ğŸš¦ |
| `PATTERN` | íŒ¨í„´ | PAT_COLLISION, PAT_OVERLOAD, PAT_DRIFT | ğŸ” |
| `ERROR_CODE` | ì—ëŸ¬ì½”ë“œ | C153, C119, C189 | âš ï¸ |
| `CAUSE` | ì›ì¸ | CAUSE_COLLISION, CAUSE_OVERLOAD | ğŸ”¬ |
| `RESOLUTION` | ì¡°ì¹˜ë°©ë²• | RES_CHECK_OBSTACLE, RES_REDUCE_SPEED | ğŸ”§ |

#### ê´€ê³„(Relation) íƒ€ì…

| ê´€ê³„ | ì˜ë¯¸ | ì˜ˆì‹œ |
|------|------|------|
| `HAS_STATE` | ìƒíƒœë¥¼ ê°€ì§ | Fz â†’ State_Warning |
| `TRIGGERS` | ìœ ë°œí•¨ | PAT_COLLISION â†’ C153 |
| `CAUSED_BY` | ì›ì¸ì´ ë¨ | C153 â†’ CAUSE_COLLISION |
| `RESOLVED_BY` | í•´ê²°ë¨ | CAUSE_COLLISION â†’ RES_CHECK_OBSTACLE |
| `INDICATES` | ë‚˜íƒ€ëƒ„ | PAT_COLLISION â†’ CAUSE_COLLISION |

#### ì„¼ì„œ ë°ì´í„°

```typescript
interface SensorReading {
  timestamp: string;      // ISO 8601
  Fx: number;             // í˜ Xì¶• (N)
  Fy: number;             // í˜ Yì¶• (N)
  Fz: number;             // í˜ Zì¶• (N) - ê°€ì¥ ì¤‘ìš”
  Tx: number;             // í† í¬ Xì¶• (Nm)
  Ty: number;             // í† í¬ Yì¶• (Nm)
  Tz: number;             // í† í¬ Zì¶• (Nm)
}
```

#### ì¸¡ì •ì¶•ë³„ ì •ìƒ ë²”ìœ„

| ì¶• | ë‹¨ìœ„ | ì •ìƒ ë²”ìœ„ | ê²½ê³  ë²”ìœ„ | ìœ„í—˜ ë²”ìœ„ |
|----|------|----------|----------|----------|
| Fz | N | -60 ~ 0 | -200 ~ -60 | < -200 |
| Fx, Fy | N | -10 ~ 10 | -50 ~ -10, 10 ~ 50 | < -50, > 50 |
| Tx, Ty, Tz | Nm | -0.5 ~ 0.5 | -2 ~ -0.5, 0.5 ~ 2 | < -2, > 2 |

### 2.2 ì‹¤ì œ ë°ì´í„° ê·œëª¨

> ì°¸ê³ : ì•„ë˜ ìˆ˜ì¹˜ëŠ” **í˜„ì¬ ë°ì´í„° ìŠ¤ëƒ…ìƒ· ê¸°ì¤€**ì…ë‹ˆë‹¤. (ë°ì´í„° ì¬ìƒì„±/ì¸ì… íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ì— ë”°ë¼ ë³€ë™ ê°€ëŠ¥)

| í•­ëª© | ìˆ˜ëŸ‰ | ë¹„ê³  |
|------|------|------|
| ì—”í‹°í‹° | 54ê°œ | 15ê°œ íƒ€ì… |
| ê´€ê³„ | 62ê°œ | ê°ì²´ ê°„ ì—°ê²° |
| ì„¼ì„œ ë ˆì½”ë“œ | 604,800ê°œ | 7ì¼ì¹˜ **Baseline 1Hz(1ì´ˆ í‰ê· )** |
| ê°ì§€ëœ íŒ¨í„´ | 17ê°œ | collision 2, overload 4, drift 11 |
| ë¬¸ì„œ ì²­í¬ | 722ê°œ | ë§¤ë‰´ì–¼ 3ì¢… |

> ì°¸ê³ : 125Hz ì›ë³¸ì€ â€œì´ë²¤íŠ¸ ìŠ¤ë‹ˆí«(Â±5ì´ˆ)â€ í˜•íƒœë¡œ ë³„ë„ ì €ì¥/ì œê³µí•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤(í–¥í›„ í™•ì¥).

---

## 3. í™”ë©´ êµ¬ì¡°

### 3.1 ì „ì²´ ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ë¡œê³ ]  UR5e Monitor    [ğŸ“Š Live] [ğŸ•¸ï¸ Graph] [ğŸ“ˆ History]  [âš™ï¸] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚                                     â”‚ â”‚                     â”‚ â”‚
â”‚ â”‚           ë©”ì¸ ì½˜í…ì¸  ì˜ì—­           â”‚ â”‚    AI ì–´ì‹œìŠ¤í„´íŠ¸    â”‚ â”‚
â”‚ â”‚           (Viewë³„ ë³€ê²½)              â”‚ â”‚       (ì±—ë´‡)        â”‚ â”‚
â”‚ â”‚                                     â”‚ â”‚                     â”‚ â”‚
â”‚ â”‚              70%                    â”‚ â”‚        30%          â”‚ â”‚
â”‚ â”‚                                     â”‚ â”‚                     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 View ì •ì˜

| View | ì±…ì„ | í•µì‹¬ ì§ˆë¬¸ |
|------|------|----------|
| **Live** | í˜„ì¬ ìƒíƒœ ëª¨ë‹ˆí„°ë§ | "ì§€ê¸ˆ ìœ„í—˜í•´? ë­ í•´ì•¼ í•´?" |
| **Graph** | ê´€ê³„/ì›ì¸ íƒìƒ‰ | "ì™œ ì´ë ‡ê²Œ ëì–´?" |
| **History** | ì¶”ì„¸/ì˜ˆì¸¡ ë¶„ì„ | "ë˜ ì´ëŸ´ê¹Œ? ì–¸ì œ ë¬¸ì œë ê¹Œ?" |

---

## 4. Live View ìƒì„¸

### 4.1 í™”ë©´ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ìœ„í—˜ ì•Œë¦¼ ë°”]                                                  â”‚
â”‚  ğŸ”´ C153 ê¸´ê¸‰ (10ë¶„ ì „)  â”‚  ğŸŸ¡ Drift ê²½ê³  (2ê±´)  â”‚  âœ… ì •ìƒ 42ê±´  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    [UR5e]       â”‚  â”‚   [Axia80]      â”‚  â”‚   [Fz] â† ì„ íƒ   â”‚ â”‚
â”‚  â”‚    ğŸ¤– ë¡œë´‡      â”‚  â”‚    ğŸ“¡ ì„¼ì„œ      â”‚  â”‚   ğŸ“Š ì¸¡ì •ì¶•     â”‚ â”‚
â”‚  â”‚    âœ… ì •ìƒ      â”‚  â”‚    ğŸŸ¡ ê²½ê³       â”‚  â”‚   ğŸŸ¡ -180N      â”‚ â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚   ì •ìƒ: -60~0   â”‚ â”‚
â”‚  â”‚  [ìƒì„¸ ë³´ê¸°]    â”‚  â”‚  [ìƒì„¸ ë³´ê¸°]    â”‚  â”‚   í¸ì°¨: 3ë°°     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  [ì‹¤ì‹œê°„ ì°¨íŠ¸]                                           â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚    0 â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚   â”‚
â”‚  â”‚  -50 â”€â”¼â”€â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–      â”‚   â”‚
â”‚  â”‚ -100 â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ƒâ–ƒâ–ƒâ–ƒâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚   â”‚
â”‚  â”‚ -200 â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–‡â–ˆâ–‡â”€â”€â”€â”€â”€â”€â”€ âš ï¸    â”‚   â”‚
â”‚  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚   â”‚
â”‚  â”‚         10ë¶„ ì „        5ë¶„ ì „         í˜„ì¬               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  [ìµœê·¼ ì´ë²¤íŠ¸]                                                  â”‚
â”‚  â€¢ 14:23 ğŸŸ¡ Fz ê²½ê³  ìƒíƒœ ì§„ì… (-180N)                          â”‚
â”‚  â€¢ 14:20 âœ… ì •ìƒ ë³µê·€                                          â”‚
â”‚  â€¢ 14:15 ğŸ”´ ì¶©ëŒ ê°ì§€ (PAT_COLLISION)                           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ì»´í¬ë„ŒíŠ¸ ëª…ì„¸

#### 4.2.1 ìœ„í—˜ ì•Œë¦¼ ë°” (RiskAlertBar)

```typescript
interface RiskAlert {
  id: string;
  severity: 'critical' | 'warning' | 'info';
  title: string;
  timestamp: string;
  entityId?: string;
  count?: number;
}

// Props
interface RiskAlertBarProps {
  alerts: RiskAlert[];
  onAlertClick: (alert: RiskAlert) => void;
}
```

**ë””ìì¸ ê°€ì´ë“œ:**
- ğŸ”´ Critical: `bg-red-500/20 border-red-500`
- ğŸŸ¡ Warning: `bg-yellow-500/20 border-yellow-500`
- âœ… Info: `bg-green-500/20 border-green-500`

#### 4.2.2 ê°ì²´ ì¹´ë“œ (ObjectCard)

```typescript
interface ObjectCardProps {
  entity: {
    id: string;
    name: string;
    type: EntityType;
    state: 'normal' | 'warning' | 'critical';
    currentValue?: number;
    unit?: string;
    normalRange?: [number, number];
  };
  isSelected: boolean;
  onClick: () => void;
}
```

**ì¹´ë“œ í¬ê¸°:** 200px Ã— 150px
**ì„ íƒ ì‹œ:** `ring-2 ring-blue-500`

#### 4.2.3 ì‹¤ì‹œê°„ ì°¨íŠ¸ (RealtimeChart)

```typescript
interface RealtimeChartProps {
  data: SensorReading[];
  axis: 'Fx' | 'Fy' | 'Fz' | 'Tx' | 'Ty' | 'Tz';
  timeRange: '10m' | '1h' | '24h';
  thresholds: {
    warning: number;
    critical: number;
  };
  events?: ChartEvent[];  // ì°¨íŠ¸ ìœ„ ë§ˆì»¤
}
```

**ê¶Œì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬:** Recharts ë˜ëŠ” Chart.js

---

## 5. Graph View ìƒì„¸

### 5.1 í™”ë©´ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ë¸Œë ˆë“œí¬ëŸ¼]                                                    â”‚
â”‚  Fz â†’ State_Warning â†’ PAT_COLLISION â†’ C153                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚                    â”‚   Fz    â”‚                                  â”‚
â”‚                    â”‚ -180N   â”‚                                  â”‚
â”‚                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                  â”‚
â”‚                         â”‚ HAS_STATE                             â”‚
â”‚                         â–¼                                       â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚                  â”‚ State_Warning â”‚                              â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                         â”‚ INDICATES                             â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚            â–¼                         â–¼                          â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚     â”‚PAT_COLLISIONâ”‚          â”‚ PAT_OVERLOAD â”‚                   â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚            â”‚ TRIGGERS                                           â”‚
â”‚            â–¼                                                    â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚
â”‚       â”‚  C153   â”‚                                               â”‚
â”‚       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                               â”‚
â”‚            â”‚ CAUSED_BY                                          â”‚
â”‚            â–¼                                                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚   â”‚  CAUSE_COLLISION   â”‚                                        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚           â”‚ RESOLVED_BY                                         â”‚
â”‚           â–¼                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚   â”‚ RES_CHECK_OBSTACLE â”‚                                        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ì„ íƒëœ ë…¸ë“œ ì •ë³´]                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  C153 - Collision Detected                              â”‚   â”‚
â”‚  â”‚  Type: ErrorCode                                        â”‚   â”‚
â”‚  â”‚  Severity: High                                         â”‚   â”‚
â”‚  â”‚  Description: ë¡œë´‡ì´ ì˜ˆìƒì¹˜ ëª»í•œ ì™¸ë¶€ í˜ì„ ê°ì§€í–ˆìŠµë‹ˆë‹¤. â”‚   â”‚
â”‚  â”‚  Document: service_manual p.45                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ì»´í¬ë„ŒíŠ¸ ëª…ì„¸

#### 5.2.1 ì„œë¸Œê·¸ë˜í”„ (SubGraph)

```typescript
interface SubGraphProps {
  centerEntityId: string;  // ì¤‘ì‹¬ ë…¸ë“œ
  maxHops: number;         // ìµœëŒ€ ê¹Šì´ (ê¸°ë³¸ 2)
  nodes: GraphNode[];
  edges: GraphEdge[];
  onNodeClick: (nodeId: string) => void;
  onNodeHover: (nodeId: string | null) => void;
}

interface GraphNode {
  id: string;
  type: EntityType;
  label: string;
  state?: 'normal' | 'warning' | 'critical';
}

interface GraphEdge {
  source: string;
  target: string;
  relation: RelationType;
}
```

**ê¶Œì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬:** React Flow

**ë…¸ë“œ ìŠ¤íƒ€ì¼:**
| íƒ€ì… | ìƒ‰ìƒ | ëª¨ì–‘ |
|------|------|------|
| MEASUREMENT_AXIS | Blue | ì›í˜• |
| STATE | Green/Yellow/Red | ë‹¤ì´ì•„ëª¬ë“œ |
| PATTERN | Purple | ìœ¡ê°í˜• |
| ERROR_CODE | Orange | ì‚¬ê°í˜• |
| CAUSE | Pink | ì‚¬ê°í˜• |
| RESOLUTION | Cyan | ë‘¥ê·¼ ì‚¬ê°í˜• |

#### 5.2.2 ë¸Œë ˆë“œí¬ëŸ¼ (PathBreadcrumb)

```typescript
interface PathBreadcrumbProps {
  path: string[];         // ['Fz', 'State_Warning', 'PAT_COLLISION', 'C153']
  relations: string[];    // ['HAS_STATE', 'INDICATES', 'TRIGGERS']
  onNodeClick: (nodeId: string) => void;
}
```

---

## 6. History View ìƒì„¸

### 6.1 í™”ë©´ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ê¸°ê°„ ì„ íƒ]                                                     â”‚
â”‚  [1ì‹œê°„] [24ì‹œê°„] [7ì¼] [30ì¼] [ì‚¬ìš©ì ì§€ì •]                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  [ì¶”ì„¸ ì°¨íŠ¸]                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚      Fz ì¶”ì„¸ (7ì¼)                                       â”‚   â”‚
â”‚  â”‚    0 â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚   â”‚
â”‚  â”‚  -50 â”€â”¼â”€â–â–â–â–â–â–‚â–‚â–â–â–â–â–‚â–‚â–ƒâ–ƒâ–‚â–‚â–â–â–â–â–‚â–‚â–ƒâ–ƒâ–‚â–‚â–â–â–â–                  â”‚   â”‚
â”‚  â”‚ -100 â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–…â–…â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–…â–…â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚   â”‚
â”‚  â”‚ -200 â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚   â”‚
â”‚  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚   â”‚
â”‚  â”‚         1/15    1/17    1/19    1/21                     â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  ğŸ”´ ì¶©ëŒ 2ê±´    ğŸŸ¡ ê³¼ë¶€í•˜ 4ê±´    ğŸŸ  ë“œë¦¬í”„íŠ¸ 11ê±´        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  [ê°ì§€ëœ íŒ¨í„´]                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ì‹œê°     â”‚ íƒ€ì…     â”‚ ì‹ ë¢°ë„   â”‚ ìƒì„¸                    â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ 1/17 14:00â”‚ Collisionâ”‚ 100%     â”‚ Fz=-829N, C153 ë°œìƒ     â”‚  â”‚
â”‚  â”‚ 1/20 10:00â”‚ Collisionâ”‚ 100%     â”‚ Fz=-815N, C153 ë°œìƒ     â”‚  â”‚
â”‚  â”‚ 1/16 14:17â”‚ Overload â”‚ 100%     â”‚ 9ì´ˆê°„ 327N ì´ˆê³¼         â”‚  â”‚
â”‚  â”‚ ...      â”‚ ...      â”‚ ...      â”‚ ...                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  [ì˜ˆì¸¡]                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  âš ï¸ 24ì‹œê°„ ë‚´ C153 ë°œìƒ í™•ë¥ : 15%                        â”‚   â”‚
â”‚  â”‚  ğŸ“ˆ Drift ì¶”ì„¸ ê°ì§€: ì£¼ì˜ í•„ìš”                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 ì»´í¬ë„ŒíŠ¸ ëª…ì„¸

#### 6.2.1 íŒ¨í„´ í…Œì´ë¸” (PatternTable)

```typescript
interface Pattern {
  id: string;
  type: 'collision' | 'overload' | 'drift' | 'vibration';
  timestamp: string;
  confidence: number;
  metrics: {
    peakValue?: number;
    duration?: number;
    deviation?: number;
  };
  relatedErrorCodes: string[];
}

interface PatternTableProps {
  patterns: Pattern[];
  onPatternClick: (pattern: Pattern) => void;
  sortBy?: 'timestamp' | 'type' | 'confidence';
}
```

#### 6.2.2 ì˜ˆì¸¡ ì¹´ë“œ (PredictionCard)

```typescript
interface Prediction {
  errorCode: string;
  probability: number;  // 0-1
  timeframe: string;    // "24ì‹œê°„ ë‚´", "7ì¼ ë‚´"
  basedOn: string[];    // ê·¼ê±° íŒ¨í„´ ID
}

interface PredictionCardProps {
  predictions: Prediction[];
}
```

---

## 7. AI ì–´ì‹œìŠ¤í„´íŠ¸ (ì±—ë´‡)

### 7.1 í™”ë©´ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AI ì–´ì‹œìŠ¤í„´íŠ¸                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  ì»¨í…ìŠ¤íŠ¸: Fz ì„ íƒë¨ (-180N)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  [ì´ì „ ëŒ€í™”]                        â”‚
â”‚                                     â”‚
â”‚  ğŸ‘¤ "Fzê°€ ì™œ ì´ë ‡ê²Œ ë†’ì•„?"          â”‚
â”‚                                     â”‚
â”‚  ğŸ¤– â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚     â”‚ Fz -180Nì€ **ê²½ê³  ìƒíƒœ**    â”‚ â”‚
â”‚     â”‚ ì…ë‹ˆë‹¤.                     â”‚ â”‚
â”‚     â”‚                             â”‚ â”‚
â”‚     â”‚ **ì¶”ì • ì›ì¸**: Collision    â”‚ â”‚
â”‚     â”‚ **ì‹ ë¢°ë„**: 90%             â”‚ â”‚
â”‚     â”‚                             â”‚ â”‚
â”‚     â”‚ **ê¶Œì¥ ì¡°ì¹˜**:              â”‚ â”‚
â”‚     â”‚ â€¢ ì‘ì—… ì˜ì—­ ì¥ì• ë¬¼ í™•ì¸     â”‚ â”‚
â”‚     â”‚ â€¢ ë¡œë´‡ ì†ë„ ê°ì†Œ            â”‚ â”‚
â”‚     â”‚                             â”‚ â”‚
â”‚     â”‚ [ğŸ“ ê·¼ê±° ë³´ê¸°]              â”‚ â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚     [ê·¼ê±° í¼ì¹¨]                     â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚     â”‚ ğŸ“ ì˜¨í†¨ë¡œì§€ ê²½ë¡œ:           â”‚ â”‚
â”‚     â”‚   Fz â†’ Warning â†’ Collision  â”‚ â”‚
â”‚     â”‚                             â”‚ â”‚
â”‚     â”‚ ğŸ“„ ë¬¸ì„œ ì°¸ì¡°:               â”‚ â”‚
â”‚     â”‚   service_manual p.45       â”‚ â”‚
â”‚     â”‚                             â”‚ â”‚
â”‚     â”‚ ğŸ“Š ìœ ì‚¬ ì´ë²¤íŠ¸:             â”‚ â”‚
â”‚     â”‚   1/17 14:00 (ë™ì¼ íŒ¨í„´)    â”‚ â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¡ ì¶”ì²œ ì§ˆë¬¸:                      â”‚
â”‚  â€¢ "ì´ì „ì—ë„ ì´ëŸ° ì  ìˆì–´?"         â”‚
â”‚  â€¢ "C153 í•´ê²° ë°©ë²• ì•Œë ¤ì¤˜"          â”‚
â”‚  â€¢ "ì˜ˆë°©í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´?"          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ë©”ì‹œì§€ ì…ë ¥...              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                        [ì „ì†¡] [ğŸ¤] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 ì±—ë´‡ API ì—°ë™

> ëª…ëª… ê·œì¹™: ë°±ì—”ë“œ(Python)ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ snake_caseë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. í”„ë¡ íŠ¸ì—”ë“œì—ì„œëŠ” camelCaseë¥¼ ì“°ë˜, API ë ˆì´ì–´ì—ì„œ ë³€í™˜(adapter)ì„ ë‘¡ë‹ˆë‹¤.

#### ìš”ì²­ ìŠ¤í‚¤ë§ˆ

```typescript
interface ChatRequest {
  // ë°±ì—”ë“œ í˜¸í™˜: `message`(ê¶Œì¥) ë˜ëŠ” `query`(ë ˆê±°ì‹œ/í”„ë¡ íŠ¸ í¸ì˜)
  message?: string;
  query?: string;
  context: {
    selectedEntity?: string;      // í˜„ì¬ ì„ íƒëœ ê°ì²´
    currentValue?: number;        // í˜„ì¬ ì„¼ì„œê°’
    timeRange?: string;           // ì¡°íšŒ ì‹œê°„ ë²”ìœ„
    recentEvents?: string[];      // ìµœê·¼ ì´ë²¤íŠ¸ ID
    currentView?: 'live' | 'graph' | 'history';
  };
}
```

#### ì‘ë‹µ ìŠ¤í‚¤ë§ˆ

```typescript
interface ChatResponse {
  traceId: string;
  queryType: 'ontology' | 'hybrid' | 'rag';
  answer: string;
  abstain: boolean;
  abstainReason?: string;

  // ë¶„ì„ ê²°ê³¼
  analysis?: {
    entity: string;
    value: number;
    unit: string;
    state: string;
    normalRange: [number, number];
    deviation: string;
  };

  // ì¶”ë¡  ê²°ê³¼
  reasoning?: {
    confidence: number;
    pattern?: string;
    cause?: string;
    causeConfidence?: number;
  };

  // ì˜ˆì¸¡
  prediction?: {
    errorCode: string;
    probability: number;
    timeframe: string;
  };

  // ê¶Œì¥ ì¡°ì¹˜
  recommendation?: {
    immediate: string;
    reference?: string;
  };

  // ê·¼ê±°
  evidence?: {
    // P0 ê¸°ì¤€: êµ¬ì¡°í™” ê²½ë¡œ(ë…¸ë“œ/ê´€ê³„ ë°°ì—´) ì‚¬ìš©
    // ë°±ì—”ë“œ snake_case ì›ë³¸ì€ evidence.ontology_paths: Array<{ path: string[]; relations: string[]; confidence?: number }>
    ontologyPathObjects?: OntologyPath[];
    documentRefs?: DocumentRef[];
    // ìœ ì‚¬ ì´ë²¤íŠ¸ ID (ì„ íƒ)
    similarEvents?: string[];
  };

  // ê·¸ë˜í”„ ì‹œê°í™”ìš©
  graph?: {
    nodes: GraphNode[];
    edges: GraphEdge[];
  };
}

interface OntologyPath {
  path: string[];
  relations: string[];
  // í˜„ì¬ ë°±ì—”ë“œê°€ confidenceë¥¼ ì œê³µí•˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ optional
  confidence?: number;
}

interface DocumentRef {
  docId: string;
  page?: number;
  chunkId?: string;
  // ë°±ì—”ë“œê°€ ì ìˆ˜ë¥¼ ì£¼ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ optional
  relevance?: number;
}

// ì°¸ê³ : ë°±ì—”ë“œëŠ” snake_caseë¡œ ì‘ë‹µí•  ìˆ˜ ìˆìœ¼ë©°(ì˜ˆ: trace_id, query_type,
// evidence.ontology_paths, evidence.document_refs, evidence.similar_events),
// í”„ë¡ íŠ¸ API ë ˆì´ì–´ì—ì„œ camelCaseë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

```

### 7.3 ABSTAIN ì²˜ë¦¬

ì‹ ë¢°ë„ê°€ ë‚®ê±°ë‚˜ ê·¼ê±°ê°€ ë¶€ì¡±í•œ ê²½ìš°:

```typescript
// abstain: trueì¼ ë•Œì˜ UI
interface AbstainResponse {
  abstain: true;
  abstainReason: string;  // "entity confidence too low"
  partialEvidence?: {     // ë¶€ë¶„ ê·¼ê±° (ìˆìœ¼ë©´)
    found: string[];
    missing: string[];
  };
  suggestedQuestions?: string[];  // "ì´ë ‡ê²Œ ì§ˆë¬¸í•˜ë©´ ë‹µë³€ ê°€ëŠ¥"
}
```

**UI í‘œì‹œ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤” í™•ì‹¤í•œ ë‹µë³€ì„ ë“œë¦¬ê¸° ì–´ë µìŠµë‹ˆë‹¤.  â”‚
â”‚                                     â”‚
â”‚ **ë¶€ì¡±í•œ ì •ë³´:**                    â”‚
â”‚ â€¢ ì¸¡ì •ê°’ì´ ëª…ì‹œë˜ì§€ ì•ŠìŒ            â”‚
â”‚                                     â”‚
â”‚ **ì´ë ‡ê²Œ ì§ˆë¬¸í•´ë³´ì„¸ìš”:**            â”‚
â”‚ â€¢ "Fzê°€ -180Nì¸ë° ì›ì¸ì´ ë­ì•¼?"     â”‚
â”‚ â€¢ "í˜„ì¬ ì„¼ì„œ ìƒíƒœ ì•Œë ¤ì¤˜"           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. API ì—”ë“œí¬ì¸íŠ¸

### 8.1 FastAPI ë°±ì—”ë“œ ì—°ë™

> í˜„ì¬ ì €ì¥ì†Œì—ëŠ” **ê³µì‹ UI ì—°ë™ìš© API(/api/chat)** ê°€ ì œê³µë©ë‹ˆë‹¤(Phase12 ì—”ì§„ ì—°ë™). í”„ë¡ íŠ¸ëŠ” ìš°ì„  ì´ APIë§Œ ê¸°ì¤€ìœ¼ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤.

| ì—”ë“œí¬ì¸íŠ¸ | ë©”ì„œë“œ | ì„¤ëª… |
|-----------|--------|------|
| `/health` | GET | í—¬ìŠ¤ì²´í¬ |
| `/api/chat` | POST | ì±—ë´‡ ì§ˆì˜ (Phase12 í”„ë¡ íŠ¸ ê³„ì•½) |
| `/api/evidence/{trace_id}` | GET | ê·¼ê±°/ìƒì„¸ ì¡°íšŒ (trace ê¸°ë°˜) |
| `/api/ontology/summary` | GET | ì˜¨í†¨ë¡œì§€ ìš”ì•½ |

#### 8.1.1 ì°¸ê³ : ë ˆê±°ì‹œ API ìš”ì•½ (src_backup)

í˜„ì¬ ì €ì¥ì†Œì—ëŠ” ì•„ë˜ í˜•íƒœì˜ APIê°€ í™•ì¸ë©ë‹ˆë‹¤(ê²½ë¡œ/ìŠ¤í‚¤ë§ˆëŠ” UI ëª…ì„¸ì™€ ë‹¤ë¦„).

| ì—”ë“œí¬ì¸íŠ¸ | ë©”ì„œë“œ | ì„¤ëª… |
|-----------|--------|------|
| `/health` | GET | í—¬ìŠ¤ì²´í¬ |
| `/docs` | GET | Swagger UI |
| `/api/v1/query` | POST | RAG ì§ˆì˜(Phase7 ìŠ¤í‚¤ë§ˆ) |
| `/api/v1/analyze` | POST | ì§ˆë¬¸ ë¶„ì„ |
| `/api/v1/search` | POST | ë¬¸ì„œ ê²€ìƒ‰(LLM ìƒì„± ì—†ìŒ) |
| `/api/v1/errors` | GET | ì—ëŸ¬ ì½”ë“œ ëª©ë¡ |
| `/api/v1/errors/{code}` | GET | ì—ëŸ¬ ì½”ë“œ ì •ë³´ |
| `/api/v1/components` | GET | ë¶€í’ˆ ëª©ë¡ |
| `/api/v1/evidence/{trace_id}` | GET | ê·¼ê±°/ê²½ë¡œ ìƒì„¸(ê°ì‚¬ë¡œê·¸ ê¸°ë°˜) |

> ì²´í¬: ë ˆê±°ì‹œ `/api/v1/query` ì‘ë‹µì—ëŠ” `trace_id`ê°€ í¬í•¨ë˜ì§€ ì•Šì•„, UIì—ì„œ Evidence ì¡°íšŒë¥¼ ìë™ìœ¼ë¡œ ì´ì–´ ë¶™ì´ê¸° ì–´ë µìŠµë‹ˆë‹¤(ì¶”ê°€ ê³„ì•½ í•„ìš”).

### 8.2 íƒ€ì… ì •ì˜ íŒŒì¼

```typescript
// types/api.ts

// GET /api/sensor/current
interface CurrentSensorResponse {
  timestamp: string;
  readings: {
    [axis: string]: {
      value: number;
      unit: string;
      state: 'normal' | 'warning' | 'critical';
      normalRange: [number, number];
    };
  };
}

// GET /api/patterns
interface PatternsResponse {
  patterns: Pattern[];
  summary: {
    total: number;
    byType: {
      [type: string]: number;
    };
  };
}

// POST /api/chat
interface ChatRequestBody {
  query: string;
  context?: ChatContext;
}

// (ë ˆê±°ì‹œ) POST /api/v1/query
interface LegacyQueryRequestBody {
  question: string;
  top_k?: number;
  include_sources?: boolean;
  include_citation?: boolean;
}

// GET /api/ontology/subgraph/{id}
interface SubgraphResponse {
  centerId: string;
  nodes: GraphNode[];
  edges: GraphEdge[];
}
```

---

## 9. ë””ìì¸ ì‹œìŠ¤í…œ

### 9.1 ìƒ‰ìƒ íŒ”ë ˆíŠ¸

```css
:root {
  /* ë°°ê²½ */
  --bg-primary: #0f172a;      /* ë©”ì¸ ë°°ê²½ (ë‹¤í¬) */
  --bg-secondary: #1e293b;    /* ì¹´ë“œ ë°°ê²½ */
  --bg-tertiary: #334155;     /* í˜¸ë²„ ìƒíƒœ */

  /* í…ìŠ¤íŠ¸ */
  --text-primary: #f8fafc;
  --text-secondary: #94a3b8;
  --text-muted: #64748b;

  /* ìƒíƒœ ìƒ‰ìƒ */
  --status-normal: #22c55e;   /* ë…¹ìƒ‰ */
  --status-warning: #eab308;  /* ë…¸ë‘ */
  --status-critical: #ef4444; /* ë¹¨ê°• */

  /* ì—”í‹°í‹° íƒ€ì… ìƒ‰ìƒ */
  --entity-axis: #3b82f6;     /* íŒŒë‘ */
  --entity-pattern: #8b5cf6;  /* ë³´ë¼ */
  --entity-error: #f97316;    /* ì£¼í™© */
  --entity-cause: #ec4899;    /* í•‘í¬ */
  --entity-resolution: #06b6d4; /* ì‹œì•ˆ */

  /* ì•¡ì„¼íŠ¸ */
  --accent-primary: #3b82f6;
  --accent-hover: #2563eb;
}
```

### 9.2 íƒ€ì´í¬ê·¸ë˜í”¼

```css
/* í°íŠ¸ */
font-family: 'Inter', -apple-system, sans-serif;

/* í¬ê¸° */
--text-xs: 0.75rem;    /* 12px */
--text-sm: 0.875rem;   /* 14px */
--text-base: 1rem;     /* 16px */
--text-lg: 1.125rem;   /* 18px */
--text-xl: 1.25rem;    /* 20px */
--text-2xl: 1.5rem;    /* 24px */
```

### 9.3 ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼

#### ì¹´ë“œ

```css
.card {
  background: var(--bg-secondary);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  padding: 16px;
}

.card:hover {
  border-color: var(--accent-primary);
}

.card.selected {
  ring: 2px solid var(--accent-primary);
}
```

#### ë²„íŠ¼

```css
.btn-primary {
  background: var(--accent-primary);
  color: white;
  padding: 8px 16px;
  border-radius: 8px;
}

.btn-secondary {
  background: transparent;
  border: 1px solid var(--text-muted);
  color: var(--text-secondary);
}
```

### 9.4 ë°˜ì‘í˜• ë¸Œë ˆì´í¬í¬ì¸íŠ¸

```css
/* ëª¨ë°”ì¼ ìš°ì„  */
@media (min-width: 640px) { /* sm */ }
@media (min-width: 768px) { /* md */ }
@media (min-width: 1024px) { /* lg */ }
@media (min-width: 1280px) { /* xl */ }
```

**ë ˆì´ì•„ì›ƒ ë³€í™”:**
- **< 768px**: ì±—ë´‡ í•˜ë‹¨ ê³ ì •, ë©”ì¸ ì½˜í…ì¸  ì „ì²´ í­
- **â‰¥ 768px**: 70:30 ë¶„í•  ë ˆì´ì•„ì›ƒ

---

## 10. ê¸°ìˆ  ìŠ¤íƒ ê¶Œì¥

### 10.1 í”„ë ˆì„ì›Œí¬

| í•­ëª© | ê¶Œì¥ | ì´ìœ  |
|------|------|------|
| í”„ë ˆì„ì›Œí¬ | Next.js 14 (App Router) | SSR, ë¼ìš°íŒ…, íƒ€ì… ì•ˆì „ì„± |
| ìŠ¤íƒ€ì¼ë§ | Tailwind CSS | ë¹ ë¥¸ ê°œë°œ, ì»¤ìŠ¤í„°ë§ˆì´ì§• |
| ì»´í¬ë„ŒíŠ¸ | shadcn/ui | ë‹¤í¬ í…Œë§ˆ, ì ‘ê·¼ì„± |
| ê·¸ë˜í”„ | React Flow | ì¸í„°ë™í‹°ë¸Œ ë…¸ë“œ ê·¸ë˜í”„ |
| ì°¨íŠ¸ | Recharts | React ë„¤ì´í‹°ë¸Œ ì°¨íŠ¸ |
| ìƒíƒœê´€ë¦¬ | Zustand ë˜ëŠ” Jotai | ê²½ëŸ‰, ê°„ë‹¨í•¨ |
| API | TanStack Query | ìºì‹±, ë¡œë”© ìƒíƒœ |

### 10.2 í´ë” êµ¬ì¡°

```
frontend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx              # Live View (ê¸°ë³¸)
â”‚   â”œâ”€â”€ graph/
â”‚   â”‚   â””â”€â”€ page.tsx          # Graph View
â”‚   â”œâ”€â”€ history/
â”‚   â”‚   â””â”€â”€ page.tsx          # History View
â”‚   â””â”€â”€ api/                  # API í”„ë¡ì‹œ (ì„ íƒ)
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â””â”€â”€ SplitView.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ live/
â”‚   â”‚   â”œâ”€â”€ RiskAlertBar.tsx
â”‚   â”‚   â”œâ”€â”€ ObjectCard.tsx
â”‚   â”‚   â”œâ”€â”€ RealtimeChart.tsx
â”‚   â”‚   â””â”€â”€ EventList.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ graph/
â”‚   â”‚   â”œâ”€â”€ SubGraph.tsx
â”‚   â”‚   â”œâ”€â”€ GraphNode.tsx
â”‚   â”‚   â””â”€â”€ PathBreadcrumb.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ history/
â”‚   â”‚   â”œâ”€â”€ TrendChart.tsx
â”‚   â”‚   â”œâ”€â”€ PatternTable.tsx
â”‚   â”‚   â””â”€â”€ PredictionCard.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”œâ”€â”€ ChatPanel.tsx
â”‚   â”‚   â”œâ”€â”€ MessageBubble.tsx
â”‚   â”‚   â”œâ”€â”€ EvidenceDrawer.tsx
â”‚   â”‚   â””â”€â”€ SuggestedQuestions.tsx
â”‚   â”‚
â”‚   â””â”€â”€ common/
â”‚       â”œâ”€â”€ Badge.tsx
â”‚       â”œâ”€â”€ Button.tsx
â”‚       â”œâ”€â”€ Card.tsx
â”‚       â””â”€â”€ Loading.tsx
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useSensorData.ts
â”‚   â”œâ”€â”€ useOntology.ts
â”‚   â”œâ”€â”€ useChat.ts
â”‚   â””â”€â”€ usePatterns.ts
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ api.ts               # API í´ë¼ì´ì–¸íŠ¸
â”‚   â””â”€â”€ utils.ts
â”‚
â”œâ”€â”€ stores/
â”‚   â”œâ”€â”€ uiStore.ts           # ì„ íƒ ìƒíƒœ, ë·° ìƒíƒœ
â”‚   â””â”€â”€ chatStore.ts         # ëŒ€í™” íˆìŠ¤í† ë¦¬
â”‚
â””â”€â”€ types/
    â”œâ”€â”€ api.ts
    â”œâ”€â”€ ontology.ts
    â””â”€â”€ sensor.ts
```

---

## 11. êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 1: MVP (1ì£¼)

- [ ] í”„ë¡œì íŠ¸ ì…‹ì—… (Next.js + Tailwind + shadcn)
- [ ] ê¸°ë³¸ ë ˆì´ì•„ì›ƒ (Header + SplitView)
- [ ] Live View: ObjectCard + RealtimeChart
- [ ] ì±—ë´‡: ê¸°ë³¸ Q&A + ë‹µë³€ í‘œì‹œ

### Phase 2: í•µì‹¬ ê¸°ëŠ¥ (1ì£¼)

- [ ] Graph View: React Flow ì„œë¸Œê·¸ë˜í”„
- [ ] History View: íŒ¨í„´ í…Œì´ë¸” + íŠ¸ë Œë“œ ì°¨íŠ¸
- [ ] ì±—ë´‡: Evidence Drawer + ì‹ ë¢°ë„ í‘œì‹œ
- [ ] API ì—°ë™ ì™„ì„±

### Phase 3: ì™„ì„±ë„ (1ì£¼)

- [ ] ABSTAIN ê°œì„  UI
- [ ] ë°˜ì‘í˜• ëŒ€ì‘
- [ ] ë¡œë”©/ì—ëŸ¬ ìƒíƒœ
- [ ] ì• ë‹ˆë©”ì´ì…˜ (Framer Motion)

---

## 12. ì°¸ê³  ìë£Œ

### 12.1 ë°±ì—”ë“œ ì½”ë“œ ìœ„ì¹˜

| ê¸°ëŠ¥ | íŒŒì¼ |
|------|------|
| API ì—”ë“œí¬ì¸íŠ¸(ëª©í‘œ) | `src/api/routes/` |
| API ì—”ë“œí¬ì¸íŠ¸(í˜„ ìƒíƒœ/ë ˆê±°ì‹œ) | `src_backup/api/routes/` |
| ì§ˆë¬¸ ë¶„ë¥˜ | `src/rag/query_classifier.py` |
| ì˜¨í†¨ë¡œì§€ ì¶”ë¡  | `src/ontology/ontology_engine.py` |
| ì‘ë‹µ ìƒì„± | `src/rag/response_generator.py` |
| íŒ¨í„´ ê°ì§€ | `src/sensor/pattern_detector.py` |

### 12.2 ë°ì´í„° íŒŒì¼

| ë°ì´í„° | ê²½ë¡œ |
|--------|------|
| ì˜¨í†¨ë¡œì§€ | `data/processed/ontology/ontology.json` |
| ì„¼ì„œ ë°ì´í„° | `data/sensor/raw/axia80_week_01.parquet` |
| íŒ¨í„´ | `data/sensor/processed/detected_patterns.json` |
| ì´ë²¤íŠ¸ | `data/sensor/processed/anomaly_events.json` |

### 12.3 API í…ŒìŠ¤íŠ¸

```bash
# (ê³µì‹) ì±—ë´‡ í…ŒìŠ¤íŠ¸
curl -X POST http://localhost:8000/api/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "Fzê°€ -350Nì¸ë° ì´ê²Œ ë­ì•¼?", "context": {"selectedEntity": "Fz"}}'

> ì°¸ê³ : ì‹¤ì œ í¬íŠ¸ëŠ” ì‹¤í–‰ ì„¤ì •/í™˜ê²½ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (configs/settings.yaml ë˜ëŠ” ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ ì¸ì)
```

### 12.4 êµ¬í˜„ ì •í•©ì„± ì²´í¬ë¦¬ìŠ¤íŠ¸ (P0) - í•´ì†Œ/ì”ì—¬

- í•´ì†Œ: `src/api/main.py` ì œê³µ ë° `scripts/run_api.py`ì˜ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸(`src.api.main:app`) ì¼ì¹˜
- í•´ì†Œ: `/api/chat`ì—ì„œ `trace_id` ì œê³µ â†’ `/api/evidence/{trace_id}`ë¡œ ê·¼ê±° ì¡°íšŒ ê°€ëŠ¥
- ì”ì—¬(ì •ë¦¬ ê¶Œì¥): í”„ë¡ íŠ¸ ìš”ì²­ ë°”ë”” í•„ë“œëª… `query` vs `message` (ë¬¸ì„œ/í”„ë¡ íŠ¸/ë°±ì—”ë“œ ì¤‘ 1ê³³ ê¸°ì¤€ìœ¼ë¡œ í†µì¼)
- ì”ì—¬(ì •ë¦¬ ê¶Œì¥): í”„ë¡ íŠ¸ camelCase(`traceId`) vs ë°±ì—”ë“œ snake_case(`trace_id`)ëŠ” API ë ˆì´ì–´ì—ì„œ ë³€í™˜

---

## ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ì§ˆë¬¸ì€ ì´ìŠˆ íŠ¸ë˜ì»¤ ë˜ëŠ” ë‹´ë‹¹ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.
