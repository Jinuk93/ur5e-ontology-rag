# Phase 9: UI 대시보드 완료 보고서

## 1. 개요

### 1.1 목표
UR5e 로봇 에러 해결 RAG 시스템을 **현장 엔지니어**가 쉽게 사용할 수 있는
웹 기반 대시보드로 구현

### 1.2 기술 스택
- **Streamlit**: 웹 UI 프레임워크
- **Plotly**: 인터랙티브 차트
- **Pyvis**: Neo4j 스타일 그래프 시각화
- **Pandas**: 데이터 테이블 표시

### 1.3 실행 방법
```bash
# 1. API 서버 실행 (먼저 실행해야 함)
python scripts/run_api.py

# 2. 대시보드 실행
python -m streamlit run src/dashboard/app.py --server.port 8501

# 3. 브라우저에서 접속
http://localhost:8501
```

---

## 2. 전체 UI 구조

```
┌─────────────────────────────────────────────────────────────────┐
│                        브라우저 화면                              │
├──────────────┬──────────────────────────────────────────────────┤
│              │                                                   │
│   사이드바    │              메인 콘텐츠 영역                      │
│   (왼쪽)     │              (선택한 페이지 표시)                   │
│              │                                                   │
│  ┌────────┐  │  ┌─────────────────────────────────────────────┐ │
│  │ 로고   │  │  │                                             │ │
│  │ 제목   │  │  │     현재 선택된 페이지의 내용이             │ │
│  └────────┘  │  │     이 영역에 표시됩니다                     │ │
│              │  │                                             │ │
│  ┌────────┐  │  │                                             │ │
│  │ 메뉴   │  │  │                                             │ │
│  │ 목록   │  │  │                                             │ │
│  └────────┘  │  │                                             │ │
│              │  │                                             │ │
│  ┌────────┐  │  └─────────────────────────────────────────────┘ │
│  │ 시스템 │  │                                                   │
│  │ 상태   │  │                                                   │
│  └────────┘  │                                                   │
│              │                                                   │
│  ┌────────┐  │                                                   │
│  │ 도움말 │  │                                                   │
│  └────────┘  │                                                   │
│              │                                                   │
└──────────────┴──────────────────────────────────────────────────┘
```

---

## 3. 사이드바 구성

### 3.1 헤더 영역
```
┌─────────────────────┐
│     🤖 (로봇 아이콘)  │
│                     │
│  UR5e 에러 해결 도우미 │  ← 시스템 제목
│  AI 기반 로봇 에러    │  ← 부제목
│  진단 시스템         │
└─────────────────────┘
```

### 3.2 메뉴 목록 (6개 페이지)
| 순서 | 메뉴명 | 영문명 | 설명 |
|------|--------|--------|------|
| 1 | 💬 질문하기 | RAG Query | **메인 기능** - AI에게 에러 해결 질문 |
| 2 | 📊 시스템 현황 | Overview | 시스템 상태 및 통계 |
| 3 | 🔍 검색 탐색기 | Search Explorer | 검색 방식 비교 (전문가용) |
| 4 | 🕸️ 지식 그래프 | Knowledge Graph | 에러-부품 관계 시각화 |
| 5 | 📈 성능 평가 | Performance | 정확도/신뢰도 측정 |
| 6 | 🔧 운영 모니터 | LLMOps Monitor | 비용/사용량 모니터링 |

### 3.3 시스템 연결 상태
```
┌─────────────────────┐
│ 🔌 시스템 연결 상태   │
│                     │
│ ✅ 서버 연결됨       │  ← API 서버 상태
│                     │
│ 🟢 문서DB  🟢 지식DB │  ← DB 연결 상태
└─────────────────────┘
```
- **문서DB**: ChromaDB (매뉴얼 문서 저장)
- **지식DB**: Neo4j (에러-부품 관계 저장)

### 3.4 도움말
```
┌─────────────────────┐
│ 💡 도움말            │
│                     │
│ 질문하기: 에러 코드나 │
│ 증상을 입력하면 AI가 │
│ 해결방법을 알려드립니다│
│                     │
│ 예시 질문:           │
│ - "C4A15 에러 해결법" │
│ - "로봇이 갑자기 멈췄어요"│
└─────────────────────┘
```

---

## 4. 각 페이지 상세 설명

### 4.1 💬 질문하기 (RAG Query) - 메인 페이지

**목적**: 현장 엔지니어가 에러 코드나 증상을 입력하면 AI가 해결방법을 안내

#### 화면 구성
```
┌─────────────────────────────────────────────────────────────┐
│  💬 에러 해결 도우미                                          │
│  UR5e 로봇에서 발생한 에러나 문제를 입력해 주세요.             │
│  AI가 관련 정보를 검색하여 해결 방법을 안내해 드립니다.         │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  💡 이렇게 질문해 보세요:                                     │
│  - 에러 코드를 알고 있다면: "C4A15 에러 해결법"               │
│  - 증상만 알고 있다면: "로봇이 갑자기 멈췄어요"                │
│  - 특정 부품 문제: "Joint 3 통신 에러"                        │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  [⚙️ 고급 설정 (전문가용)]  ← 클릭하면 펼쳐짐                  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 👤 사용자: C4A15 에러가 발생했습니다                   │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🤖 AI: C4A15 에러는 Joint 3의 통신 문제로 발생합니다. │   │
│  │                                                       │   │
│  │ **해결 방법:**                                        │   │
│  │ 1. Control Box와 Joint 3 연결 케이블 확인            │   │
│  │ 2. 커넥터 재삽입                                      │   │
│  │ 3. 케이블 손상 시 교체                                │   │
│  │                                                       │   │
│  │ ✅ 신뢰도: 높음  ⏱️ 응답시간: 2.3초  ✅ 검증됨        │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  📚 답변 근거                                                │
│  AI가 어떤 정보를 바탕으로 답변했는지 확인할 수 있습니다.       │
│                                                             │
│  [📖 참고 자료] [🔍 질문 분석] [📊 출처 분포]  ← 탭 메뉴      │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  [🗑️ 대화 지우기] [📋 답변 복사] [📥 대화 저장]              │
├─────────────────────────────────────────────────────────────┤
│  [💡 자주 묻는 질문 (클릭하면 바로 질문됩니다)]  ← 펼쳐서 예시 선택│
├─────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 에러 코드나 증상을 입력하세요... (예: C4A15)    [전송] │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

#### 주요 기능
| 기능 | 설명 |
|------|------|
| 채팅 인터페이스 | 카카오톡처럼 대화 형식으로 질문/답변 |
| 답변 근거 표시 | AI가 어떤 자료를 참고했는지 확인 가능 |
| 신뢰도 표시 | 답변의 신뢰도를 높음/보통/낮음으로 표시 |
| 검증 상태 | 답변이 검증됨/부분검증/미검증인지 표시 |
| 자주 묻는 질문 | 클릭하면 바로 해당 질문이 전송됨 |

---

### 4.2 📊 시스템 현황 (Overview)

**목적**: 전체 시스템 상태와 저장된 정보 현황을 한눈에 파악

#### 화면 구성
```
┌─────────────────────────────────────────────────────────────┐
│  📊 시스템 현황                                              │
│  UR5e 에러 해결 도우미 시스템의 전체 상태를 한눈에 확인        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  🔌 시스템 연결 상태                                         │
│  ┌──────────┬──────────┬──────────┬──────────┐             │
│  │ API 서버  │ 문서DB   │ 지식DB   │ AI 모델  │             │
│  │ 연결됨 ✓  │ 연결됨 ✓ │ 연결됨 ✓ │ 사용가능 ✓│             │
│  └──────────┴──────────┴──────────┴──────────┘             │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  [🏗️ 시스템 구조도 (전문가용)]  ← 클릭하면 펼쳐짐            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  📚 저장된 정보 현황                                         │
│  ┌────────────────────┬────────────────────┐               │
│  │ 에러 코드          │ 부품 정보          │               │
│  │ 📌 56개 등록됨     │ �� 15개 등록됨     │               │
│  │ [에러 코드 범위 보기]│ [주요 부품 목록 보기]│               │
│  └────────────────────┴────────────────────┘               │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  🕸️ 지식 그래프 통계                                         │
│  ┌──────────┬──────────┬──────────┬──────────┐             │
│  │ 전체노드  │ 전체관계  │ 노드종류  │ 관계종류 │             │
│  │  128개   │  245개   │  5가지   │  8가지  │             │
│  └──────────┴──────────┴──────────┴──────────┘             │
│                                                             │
│  ┌────────────────────┬────────────────────┐               │
│  │ 노드 종류별 분포    │ 관계 종류별 분포    │               │
│  │    [막대 차트]     │    [파이 차트]     │               │
│  └────────────────────┴────────────────────┘               │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  💡 사용 방법                                                │
│  1. 질문하기 (권장) - 에러 코드나 증상 입력                   │
│  2. 검색 탐색기 - 검색 방식 비교 (전문가용)                   │
│  3. 지식 그래프 - 관계 시각화                                │
│  4. 성능 평가 - 정확도 확인                                  │
│  5. 운영 모니터 - 사용량/비용 확인 (관리자용)                 │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

### 4.3 🔍 검색 탐색기 (Search Explorer)

**목적**: 3가지 검색 방식의 결과를 비교 (전문가/개발자용)

#### 화면 구성
```
┌─────────────────────────────────────────────────────────────┐
│  🔍 검색 탐색기                                              │
│  검색 전략을 비교하고 검색 결과를 탐색합니다                   │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────┬─────────┬─────────────────┐   │
│  │ 검색어 입력...           │ Top-K: 5│ ☑ 모든 전략 비교 │   │
│  └─────────────────────────┴─────────┴─────────────────┘   │
│                              [🔍 검색]                       │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  📊 전략 비교                                                │
│  ┌──────────────┬──────────────┬──────────────┐            │
│  │🔷 지식그래프 우선│📄 문서검색 우선│🔀 복합 검색    │            │
│  │ (Graph First) │(Vector First)│  (Hybrid)   │            │
│  │              │              │              │            │
│  │ 결과: 5개     │ 결과: 5개     │ 결과: 5개    │            │
│  │ 응답: 0.8초   │ 응답: 0.6초   │ 응답: 1.2초  │            │
│  │ 평균점수: 0.85│ 평균점수: 0.72│ 평균점수: 0.88│            │
│  └──────────────┴──────────────┴──────────────┘            │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  [🔷 지식그래프 우선] [📄 문서검색 우선] [🔀 복합 검색]  ← 탭   │
│                                                             │
│  검색 결과 목록:                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ [1] C4A15 에러코드 — 점수: 0.92                      │   │
│  │     출처: Neo4j (에러코드)                            │   │
│  │     내용: Joint 3 통신 에러...                        │   │
│  └─────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ [2] Joint 3 부품 — 점수: 0.85                        │   │
│  │     출처: Neo4j (부품)                                │   │
│  │     내용: 3번째 관절 모터...                          │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### 검색 전략 비교
| 전략 | 설명 | 장점 | 단점 |
|------|------|------|------|
| 지식그래프 우선 | Neo4j 먼저 검색 | 에러코드 정확 | 일반 질문 약함 |
| 문서검색 우선 | ChromaDB 먼저 검색 | 빠른 응답 | 관계 파악 약함 |
| 복합 검색 (권장) | 둘 다 검색 후 합침 | 가장 정확 | 응답 느림 |

---

### 4.4 🕸️ 지식 그래프 (Knowledge Graph)

**목적**: 에러 코드, 부품, 해결방법의 관계를 시각적으로 탐색

#### 화면 구성
```
┌─────────────────────────────────────────────────────────────┐
│  🕸️ 지식 그래프 탐색기                                        │
│  UR5e 에러 온톨로지의 인터랙티브 시각화                        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────┬─────────┬─────────────────┐   │
│  │ 노드 검색 (예: C4A15)    │ 깊이: 2 │    [🔍 검색]    │   │
│  └─────────────────────────┴─────────┴─────────────────┘   │
│                                                             │
│  [모든 에러] [모든 부품] [에러→해결법] [전체 그래프] [초기화]   │
│                                                             │
├────────────────────────────────────┬────────────────────────┤
│                                    │                        │
│        📊 그래프 시각화             │    📋 상세 정보        │
│                                    │                        │
│    ┌─────────────────────────┐    │  선택된 노드: C4A15    │
│    │                         │    │  종류: 에러코드        │
│    │     🔴 C4A15            │    │                        │
│    │      ↙    ↘            │    │  속성:                 │
│    │   🔵       🟢          │    │  • 이름: C4A15        │
│    │ Joint3   해결법1        │    │  • 설명: 통신에러      │
│    │                         │    │                        │
│    │  (드래그/줌 가능)        │    │  연결된 관계:          │
│    │                         │    │  → 원인 → Joint3      │
│    └─────────────────────────┘    │  → 해결 → 케이블점검   │
│                                    │                        │
│    노드: 15개 | 관계: 23개         │  범례:                 │
│                                    │  🔴 에러코드           │
├────────────────────────────────────┤  🔵 부품              │
│                                    │  🟢 해결방법           │
│  [🔍 고급 탐색]  ← 펼치면:          │  🟡 증상              │
│  • 🎯 포커스 모드                  │                        │
│  • 🔍 경로 찾기                    │                        │
│  • 📝 Cypher 쿼리 (전문가용)       │                        │
│                                    │                        │
└────────────────────────────────────┴────────────────────────┘
```

#### 그래프 조작 방법
| 조작 | 방법 |
|------|------|
| 노드 이동 | 드래그 |
| 화면 확대/축소 | 마우스 휠 |
| 노드 상세보기 | 클릭 |
| 연결된 노드 확장 | 더블클릭 |

#### 노드 색상 의미
| 색상 | 노드 종류 |
|------|----------|
| 🔴 빨강 | 에러 코드 |
| 🔵 파랑 | 부품 (Component) |
| 🟢 초록 | 해결 방법 |
| 🟡 노랑 | 증상 |
| 🟣 보라 | 원인 |

---

### 4.5 📈 성능 평가 (Performance)

**목적**: RAG 시스템의 정확도와 신뢰도를 측정하고 평가

#### 화면 구성
```
┌─────────────────────────────────────────────────────────────┐
│  📈 성능 평가                                                │
│  RAG 시스템 성능 지표, 벤치마크, Phase 비교                   │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  🎯 핵심 성능 지표 (KPI)                                     │
│  ┌──────────────┬──────────────┬──────────────┐            │
│  │   정확도      │ 환각 방지율   │   재현율      │            │
│  │   [게이지]    │   [게이지]    │   [게이지]    │            │
│  │   82.5%      │   95.2%      │   78.3%      │            │
│  │ 벤치마크 기준 │ 잘못된 에러코드│ 관련정보 검색  │            │
│  │              │ 탐지율       │ 성공률        │            │
│  └──────────────┴──────────────┴──────────────┘            │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  📊 Phase별 성능 비교                                        │
│  ┌────────────────────────────────────────────────────┐    │
│  │ Phase          │ 정확도 │ 환각방지 │ 응답시간 │ 그래프 │    │
│  │────────────────┼────────┼─────────┼─────────┼────────│    │
│  │ Phase 5 (벡터) │  65%   │   0%    │  5.2초  │   0%   │    │
│  │ Phase 6 (하이브)│  75%   │  45%    │  4.5초  │  60%   │    │
│  │ Phase 7 (검증) │  82%   │  95%    │  4.2초  │  65%   │    │
│  │ Phase 8 (API)  │ 82.5%  │ 95.2%   │  3.4초  │  68%   │    │
│  └────────────────────────────────────────────────────┘    │
│                                                             │
│  ┌────────────────────┬────────────────────┐               │
│  │ 정확도 개선 차트    │ 환각 방지율 차트    │               │
│  │    [막대 그래프]    │    [막대 그래프]    │               │
│  └────────────────────┴────────────────────┘               │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  🧪 벤치마크 테스트                                          │
│  ┌────────────────────────────────────────────────────┐    │
│  │ 테스트 쿼리           │ 예상결과   │ 유형          │    │
│  │──────────────────────┼───────────┼───────────────│    │
│  │ C4A15 에러 해결법     │ 검증됨    │ 에러 해결      │    │
│  │ C999 에러 해결법      │ 불충분    │ 잘못된 에러    │    │
│  │ Control Box 에러 목록 │ 검증됨    │ 부품 조회      │    │
│  │ 로봇이 멈췄어요       │ 부분검증   │ 일반 질문      │    │
│  └────────────────────────────────────────────────────┘    │
│                                                             │
│                    [▶️ 벤치마크 테스트 실행]                  │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  🔬 커스텀 테스트                                            │
│  ┌─────────────────────────────┬───────────────────────┐   │
│  │ 테스트 질문 입력...          │ 예상결과: [검증됨 ▼]  │   │
│  └─────────────────────────────┴───────────────────────┘   │
│                              [🧪 테스트 실행]                │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### 주요 지표 설명
| 지표 | 의미 | 목표 |
|------|------|------|
| 정확도 | 올바른 답변 비율 | 80% 이상 |
| 환각 방지율 | 잘못된 에러코드 탐지율 | 95% 이상 |
| 재현율 | 관련 정보 검색 성공률 | 75% 이상 |

---

### 4.6 🔧 운영 모니터 (LLMOps Monitor)

**목적**: LLM 사용량, 비용, 시스템 상태를 모니터링 (관리자용)

#### 화면 구성
```
┌─────────────────────────────────────────────────────────────┐
│  🔧 운영 모니터 (LLMOps)                                      │
│  LLM 사용량, 비용, 시스템 성능 실시간 모니터링                  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  📊 실시간 지표                                              │
│  ┌──────────┬──────────┬──────────┬──────────┐             │
│  │ 활성쿼리  │ 대기열   │ 에러율   │ 가동률   │             │
│  │    0     │    0    │  0.2%   │  99.9%  │             │
│  │  대기중   │ 대기없음 │  -0.1%  │  +0.1%  │             │
│  └──────────┴──────────┴──────────┴──────────┘             │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  🎫 토큰 사용량                                              │
│  ┌────────────────────────┬────────────────────┐           │
│  │ 24시간 토큰 사용량 추이  │ 오늘 요약          │           │
│  │                        │                    │           │
│  │    [라인 차트]          │ 입력토큰: 32,450   │           │
│  │                        │ 출력토큰: 12,780   │           │
│  │                        │ 전체: 45,230       │           │
│  │                        │                    │           │
│  │                        │ 일일한도 사용률:    │           │
│  │                        │ [████░░░░] 45.2%  │           │
│  └────────────────────────┴────────────────────┘           │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  💰 비용 추적                                                │
│  ┌──────────┬──────────┬──────────┐                        │
│  │ 오늘 비용 │ 이번 주  │ 이번 달  │                        │
│  │  $0.12   │  $0.83  │  $3.21  │                        │
│  │  -$0.02  │  -$0.15 │  +$0.45 │                        │
│  └──────────┴──────────┴──────────┘                        │
│                                                             │
│  ┌────────────────────┬────────────────────┐               │
│  │ 기간별 비용 추이    │ 비용 분포          │               │
│  │   [막대 차트]      │   [파이 차트]      │               │
│  │                    │ RAG쿼리 65%        │               │
│  │                    │ 임베딩 20%         │               │
│  │                    │ 분석 15%           │               │
│  └────────────────────┴────────────────────┘               │
│                                                             │
│  월간 예산: [$3.21 / $10.00] ██████░░░░ 32.1%              │
│  남은 예산: $6.79 | 일일 사용가능: $0.68                     │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ⏱️ 응답시간 분포                                            │
│  ┌────────────────────┬────────────────────┐               │
│  │ 응답시간 히스토그램  │ 백분위수           │               │
│  │                    │                    │               │
│  │ < 1초   ████  8%   │  P50: 2.1초       │               │
│  │ 1-2초  ██████ 35%  │  P95: 4.2초       │               │
│  │ 2-3초  ███████ 42% │  P99: 5.8초       │               │
│  │ 3-5초  ███ 12%     │                    │               │
│  │ > 5초  █ 3%        │ 컴포넌트별 소요시간: │               │
│  │                    │ 질문분석: 0.05초    │               │
│  │                    │ 그래프검색: 0.82초  │               │
│  │                    │ 벡터검색: 0.45초    │               │
│  │                    │ LLM생성: 1.95초     │               │
│  │                    │ 검증: 0.12초        │               │
│  └────────────────────┴────────────────────┘               │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  📋 최근 로그                                                │
│  [14:32:15] 🟡 WARN  | GraphDB  | Neo4j 연결 타임아웃       │
│  [14:28:03] 🔴 ERROR | LLM      | OpenAI 속도 제한 초과     │
│  [14:15:22] 🟢 INFO  | LLM      | 속도 제한 복구됨          │
│  [14:10:45] 🟢 INFO  | System   | 캐시 정리 완료            │
│                                                             │
│  [🔍 로그 필터]  ← 펼치면 레벨/컴포넌트/날짜 필터             │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ⚙️ 모델 설정                                                │
│  ┌────────────────────┬────────────────────┐               │
│  │ 현재 설정           │ 모델 가격          │               │
│  │ • LLM: gpt-4o-mini │ • 입력: $0.15/1M   │               │
│  │ • 임베딩: text-3   │ • 출력: $0.60/1M   │               │
│  │ • 최대토큰: 4096   │ • 임베딩: $0.02/1M │               │
│  │ • Temperature: 0.0 │                    │               │
│  └────────────────────┴────────────────────┘               │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  [📥 메트릭 내보내기] [🔄 새로고침] [⚠️ 캐시 정리]            │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 5. 파일 구조

```
src/dashboard/
├── app.py                      # 메인 앱 (사이드바, 라우팅)
├── __init__.py
│
├── pages/                      # 각 페이지 구현
│   ├── __init__.py
│   ├── rag_query.py           # 💬 질문하기
│   ├── overview.py            # 📊 시스템 현황
│   ├── search_explorer.py     # 🔍 검색 탐색기
│   ├── knowledge_graph.py     # 🕸️ 지식 그래프
│   ├── performance.py         # 📈 성능 평가
│   └── llmops_monitor.py      # 🔧 운영 모니터
│
├── components/                 # 재사용 가능한 UI 컴포넌트
│   ├── __init__.py
│   ├── charts.py              # Plotly 차트 (막대, 선, 파이, 게이지)
│   ├── evidence.py            # 근거 패널 (답변 출처 표시)
│   └── metrics.py             # 메트릭 카드 (숫자 지표 표시)
│
├── services/                   # 백엔드 연동 서비스
│   ├── __init__.py
│   ├── api_client.py          # FastAPI 서버 통신
│   └── graph_service.py       # Neo4j 그래프 데이터 조회
│
└── utils/                      # 유틸리티
    ├── __init__.py
    ├── config.py              # 설정 (색상, API URL 등)
    └── formatters.py          # 포맷팅 (시간, 비용, 토큰 등)
```

---

## 6. 사용자별 권장 기능

### 6.1 현장 엔지니어 (일반 사용자)
| 우선순위 | 기능 | 설명 |
|----------|------|------|
| ⭐⭐⭐ | 질문하기 | 에러 코드/증상 입력 → AI 답변 |
| ⭐⭐ | 지식 그래프 | 에러-부품 관계 시각적 확인 |
| ⭐ | 시스템 현황 | 저장된 에러 코드 목록 확인 |

### 6.2 AI 엔지니어 (개발자)
| 우선순위 | 기능 | 설명 |
|----------|------|------|
| ⭐⭐⭐ | 성능 평가 | 정확도, 벤치마크 테스트 |
| ⭐⭐⭐ | 검색 탐색기 | 검색 전략 비교 분석 |
| ⭐⭐ | 지식 그래프 | Cypher 쿼리로 그래프 탐색 |

### 6.3 관리자
| 우선순위 | 기능 | 설명 |
|----------|------|------|
| ⭐⭐⭐ | 운영 모니터 | 비용, 사용량, 에러 로그 |
| ⭐⭐ | 시스템 현황 | 연결 상태 확인 |
| ⭐⭐ | 성능 평가 | 시스템 성능 추적 |

---

## 7. 기술적 특징

### 7.1 JD(Job Description) 어필 포인트

| JD 요구사항 | 구현 내용 |
|------------|----------|
| **지식그래프/온톨로지 설계** | Neo4j 기반 에러-부품-해결방법 온톨로지 시각화 |
| **Multi-Agent 파이프라인** | Analyzer → Retriever → Verifier → Generator 흐름 |
| **이기종 데이터 파이프라인** | PDF → 청크 → 벡터DB + 그래프DB 복합 검색 |
| **RAG/Tool Calling** | Hybrid RAG (Graph + Vector) 구현 |
| **LLM UI/웹 인터페이스** | Streamlit 대시보드 (6개 페이지) |
| **Hallucination 최적화** | Verifier 컴포넌트로 95%+ 환각 방지 |
| **Latency/Cost 최적화** | LLMOps 모니터로 실시간 추적 |

### 7.2 구현된 차트 종류
- **막대 차트**: 노드 분포, 비용 추이
- **파이 차트**: 관계 분포, 비용 분포
- **게이지 차트**: 정확도, 환각방지율, 재현율
- **라인 차트**: 토큰 사용량 추이
- **히스토그램**: 응답시간 분포
- **프로그레스 바**: 예산 사용률, 검색 점수

---

## 8. 실행 확인

### 8.1 정상 동작 체크리스트
- [ ] API 서버 실행됨 (http://localhost:8000)
- [ ] 대시보드 접속 가능 (http://localhost:8501)
- [ ] 사이드바에 "✅ 서버 연결됨" 표시
- [ ] 문서DB, 지식DB 모두 🟢 표시
- [ ] 질문하기에서 응답 정상 생성

### 8.2 트러블슈팅
| 증상 | 원인 | 해결 |
|------|------|------|
| "서버 연결 안됨" | API 서버 미실행 | `python scripts/run_api.py` |
| 🔴 문서DB | ChromaDB 경로 오류 | `data/chroma_db` 확인 |
| 🔴 지식DB | Neo4j 미실행 | Neo4j Desktop 실행 |
| 그래프 안 보임 | pyvis 미설치 | `pip install pyvis` |

---

## 9. 결론

Phase 9에서 구현한 UI 대시보드는:

1. **현장 친화적**: 한글 인터페이스, 친절한 안내 메시지
2. **기능 완비**: 질문/검색/시각화/평가/모니터링 모든 기능 제공
3. **전문성 어필**: JD 요구사항을 충족하는 기술 스택 사용
4. **확장 가능**: 모듈화된 구조로 추가 기능 개발 용이

**작성일**: 2024-01-21
**버전**: v1.0
