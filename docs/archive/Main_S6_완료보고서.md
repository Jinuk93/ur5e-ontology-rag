# Main-S6 ì™„ë£Œë³´ê³ ì„œ: API/UI í™•ì¥

## 1. ê°œìš”

| í•­ëª© | ë‚´ìš© |
|------|------|
| ë‹¨ê³„ | Main-S6 |
| ëª©í‘œ | ì„¼ì„œ ë°ì´í„° ì‹œê°í™” ë° API/UI í™•ì¥ |
| ìƒíƒœ | âœ… ì™„ë£Œ |
| ì™„ë£Œì¼ | 2026-01-21 |

## 2. êµ¬í˜„ ë²”ìœ„

### 2.1 ëŒ€ì‹œë³´ë“œ í™•ì¥

```
src/dashboard/
â”œâ”€â”€ app.py                      # ë©”ì¸ ì•± (ë„¤ë¹„ê²Œì´ì…˜ í™•ì¥)
â””â”€â”€ pages/
    â””â”€â”€ sensor_analysis.py      # [ì‹ ê·œ] ì„¼ì„œ ë¶„ì„ í˜ì´ì§€
```

### 2.2 êµ¬í˜„ëœ ê¸°ëŠ¥

#### ì„¼ì„œ ë¶„ì„ í˜ì´ì§€ (`sensor_analysis.py`)

1. **ë°ì´í„° ë¡œë“œ í•¨ìˆ˜**
   - `load_sensor_data()`: Parquet ì„¼ì„œ ë°ì´í„° ë¡œë“œ
   - `load_detected_patterns()`: ê°ì§€ëœ íŒ¨í„´ JSON ë¡œë“œ

2. **ì‹œê°í™” ì»´í¬ë„ŒíŠ¸**
   - `plot_sensor_timeseries()`: ì„¼ì„œ ì‹œê³„ì—´ ì°¨íŠ¸ (Plotly)
   - `plot_pattern_timeline()`: íŒ¨í„´ ì´ë²¤íŠ¸ íƒ€ì„ë¼ì¸
   - `plot_pattern_distribution()`: íŒ¨í„´ ìœ í˜•ë³„ ë¶„í¬ ë°” ì°¨íŠ¸

3. **UI ì„¹ì…˜**
   - ğŸ“‹ ë°ì´í„° ìš”ì•½: ì´ ë ˆì½”ë“œ, ì‹œê°„ ë²”ìœ„, ê°ì§€ íŒ¨í„´ ìˆ˜
   - ğŸ¯ ê°ì§€ëœ íŒ¨í„´: ìœ í˜•ë³„ ì¹´ìš´íŠ¸ ì¹´ë“œ
   - ğŸ“ˆ ì„¼ì„œ ì‹œê³„ì—´: ì¸í„°ë™í‹°ë¸Œ ì‹œê³„ì—´ ì°¨íŠ¸
   - ğŸ• íŒ¨í„´ ì´ë²¤íŠ¸ íƒ€ì„ë¼ì¸: ì‹œê°„ë³„ íŒ¨í„´ ë°œìƒ
   - ğŸ“‹ íŒ¨í„´ ìƒì„¸ ëª©ë¡: DataFrame í…Œì´ë¸”
   - ğŸ”— ì—ëŸ¬ì½”ë“œ ì—°ê´€ ë¶„ì„: íŒ¨í„´-ì—ëŸ¬ ë§¤í•‘ ì‹œê°í™”

## 3. í•µì‹¬ ì½”ë“œ

### 3.1 ì„¼ì„œ ì‹œê³„ì—´ ì°¨íŠ¸

```python
def plot_sensor_timeseries(
    df: pd.DataFrame,
    axes: List[str] = ["Fz", "Tx", "Ty"],
    patterns: List[Dict] = None,
    time_range: tuple = None
) -> go.Figure:
    """ì„¼ì„œ ì‹œê³„ì—´ ì°¨íŠ¸"""

    # ì‹œê°„ í•„í„°ë§
    if time_range:
        mask = (df["timestamp"] >= time_range[0]) & (df["timestamp"] <= time_range[1])
        df = df[mask]

    # ë°ì´í„° ìƒ˜í”Œë§ (ì„±ëŠ¥ ìµœì í™”)
    if len(df) > 10000:
        df = df.iloc[::len(df)//10000]

    fig = make_subplots(
        rows=len(axes), cols=1,
        shared_xaxes=True,
        vertical_spacing=0.05,
        subplot_titles=axes
    )

    # ì¶•ë³„ ì‹œê³„ì—´ ì¶”ê°€
    for i, axis in enumerate(axes, 1):
        if axis in df.columns:
            fig.add_trace(
                go.Scatter(
                    x=df["timestamp"],
                    y=df[axis],
                    name=axis,
                    mode="lines",
                    line=dict(width=1),
                ),
                row=i, col=1
            )

    # íŒ¨í„´ êµ¬ê°„ í•˜ì´ë¼ì´íŠ¸
    if patterns:
        for pattern in patterns:
            # vrectë¡œ íŒ¨í„´ êµ¬ê°„ í‘œì‹œ
            fig.add_vrect(...)

    return fig
```

### 3.2 íŒ¨í„´ë³„ ìƒ‰ìƒ ì •ì˜

```python
PATTERN_COLORS = {
    "collision": "#FF5252",     # ë¹¨ê°•
    "vibration": "#FF9800",     # ì£¼í™©
    "overload": "#9C27B0",      # ë³´ë¼
    "drift": "#2196F3",         # íŒŒë‘
    "unknown": "#9E9E9E",       # íšŒìƒ‰
}
```

### 3.3 ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ í™•ì¥ (app.py)

```python
page = st.radio(
    "í˜ì´ì§€ ì„ íƒ",
    options=[
        "ğŸ’¬ ì§ˆë¬¸í•˜ê¸° (RAG Query)",
        "ğŸ“Š ì‹œìŠ¤í…œ í˜„í™© (Overview)",
        "ğŸ” ê²€ìƒ‰ íƒìƒ‰ê¸° (Search Explorer)",
        "ğŸ•¸ï¸ ì§€ì‹ ê·¸ë˜í”„ (Knowledge Graph)",
        "ğŸ“‰ ì„¼ì„œ ë¶„ì„ (Sensor Analysis)",  # [ì‹ ê·œ ì¶”ê°€]
        "ğŸ“ˆ ì„±ëŠ¥ í‰ê°€ (Performance)",
        "ğŸ”§ ìš´ì˜ ëª¨ë‹ˆí„° (LLMOps Monitor)",
    ],
    label_visibility="collapsed",
)

# ë¼ìš°íŒ…
elif page == "ğŸ“‰ ì„¼ì„œ ë¶„ì„ (Sensor Analysis)":
    from src.dashboard.pages.sensor_analysis import render_sensor_analysis
    render_sensor_analysis()
```

## 4. UI êµ¬ì„± ìƒì„¸

### 4.1 ë©”íŠ¸ë¦­ ì¹´ë“œ

| ë©”íŠ¸ë¦­ | ì„¤ëª… |
|--------|------|
| ì´ ë ˆì½”ë“œ | ì„¼ì„œ ë°ì´í„° í–‰ ìˆ˜ |
| ì‹œê°„ ë²”ìœ„ | ë°ì´í„° ê¸°ê°„ (ì‹œê°„) |
| ê°ì§€ íŒ¨í„´ | ê°ì§€ëœ íŒ¨í„´ ì´ ê°œìˆ˜ |
| í‰ê·  Fz | Zì¶• í˜ í‰ê· ê°’ |

### 4.2 íŒ¨í„´ ìš”ì•½ ì¹´ë“œ

```html
<div style="
    background-color: {color}20;
    border-left: 4px solid {color};
    padding: 10px;
    border-radius: 4px;
">
    <b>{pattern_type.upper()}</b><br>
    <span style="font-size: 24px;">{count}</span>
</div>
```

### 4.3 ì¸í„°ë™í‹°ë¸Œ í•„í„°

- **ì‹œê°„ ë²”ìœ„ ì„ íƒ**: date_inputìœ¼ë¡œ ì‹œì‘ì¼/ì¢…ë£Œì¼ ì„ íƒ
- **ì¶• ì„ íƒ**: multiselectë¡œ í‘œì‹œí•  ì„¼ì„œ ì¶• ì„ íƒ
- **íŒ¨í„´ í‘œì‹œ**: checkboxë¡œ íŒ¨í„´ êµ¬ê°„ í•˜ì´ë¼ì´íŠ¸ í† ê¸€

## 5. ë°ì´í„° íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì„¼ì„œ ë¶„ì„ í˜ì´ì§€                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  1. ë°ì´í„° ë¡œë“œ                                               â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚     â”‚ axia80_week_01  â”‚    â”‚ detected_patterns    â”‚         â”‚
â”‚     â”‚   .parquet      â”‚    â”‚      .json           â”‚         â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚              â”‚                        â”‚                      â”‚
â”‚              â–¼                        â–¼                      â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚     â”‚           render_sensor_analysis()           â”‚         â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                          â”‚                                   â”‚
â”‚  2. ì‹œê°í™”               â–¼                                   â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚     â”‚  ğŸ“Š Plotly ì°¨íŠ¸                            â”‚           â”‚
â”‚     â”‚  â”œâ”€ ì‹œê³„ì—´ ì°¨íŠ¸ (Fz, Tx, Ty)              â”‚           â”‚
â”‚     â”‚  â”œâ”€ íŒ¨í„´ íƒ€ì„ë¼ì¸                         â”‚           â”‚
â”‚     â”‚  â””â”€ íŒ¨í„´ ë¶„í¬ ë°” ì°¨íŠ¸                     â”‚           â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                          â”‚                                   â”‚
â”‚  3. í…Œì´ë¸”               â–¼                                   â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚     â”‚  ğŸ“‹ íŒ¨í„´ ìƒì„¸ ëª©ë¡ (DataFrame)             â”‚           â”‚
â”‚     â”‚  ğŸ”— ì—ëŸ¬ì½”ë“œ ì—°ê´€ ë¶„ì„                     â”‚           â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 6. ì„±ëŠ¥ ìµœì í™”

### 6.1 ë°ì´í„° ìƒ˜í”Œë§

ëŒ€ìš©ëŸ‰ ì„¼ì„œ ë°ì´í„° ì²˜ë¦¬ë¥¼ ìœ„í•œ ìë™ ë‹¤ìš´ìƒ˜í”Œë§:

```python
# 10,000ê°œ ì´ìƒ ë ˆì½”ë“œì‹œ ìƒ˜í”Œë§
if len(df) > 10000:
    df = df.iloc[::len(df)//10000]
```

### 6.2 Lazy Import

í˜ì´ì§€ë³„ ëª¨ë“ˆ ì§€ì—° ë¡œë”©ìœ¼ë¡œ ì´ˆê¸° ë¡œë”© ì‹œê°„ ìµœì í™”:

```python
# í˜ì´ì§€ ë¼ìš°íŒ… ì‹œì ì— import
elif page == "ğŸ“‰ ì„¼ì„œ ë¶„ì„ (Sensor Analysis)":
    from src.dashboard.pages.sensor_analysis import render_sensor_analysis
    render_sensor_analysis()
```

## 7. ì‹¤í–‰ ë°©ë²•

```bash
# ëŒ€ì‹œë³´ë“œ ì‹¤í–‰
streamlit run src/dashboard/app.py

# ë˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©
python scripts/run_dashboard.py
```

## 8. ìŠ¤í¬ë¦°ìƒ· (ì˜ˆìƒ UI)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UR5e ì—ëŸ¬ í•´ê²° ë„ìš°ë¯¸                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  ğŸ“Š ì„¼ì„œ ë¶„ì„                                                â”‚
â”‚  Main-S6: ì„¼ì„œ ë°ì´í„° ì‹œê°í™” ë° íŒ¨í„´ ë¶„ì„                     â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ì´ ë ˆì½”ë“œ  â”‚ì‹œê°„ ë²”ìœ„  â”‚ê°ì§€ íŒ¨í„´  â”‚í‰ê·  Fz   â”‚              â”‚
â”‚  â”‚ 100,000  â”‚ 168ì‹œê°„  â”‚   15    â”‚ 25.3N   â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                              â”‚
â”‚  ğŸ¯ ê°ì§€ëœ íŒ¨í„´                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚COLLISION â”‚VIBRATION â”‚OVERLOAD  â”‚DRIFT     â”‚              â”‚
â”‚  â”‚    5     â”‚    4     â”‚    3     â”‚    3     â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                              â”‚
â”‚  ğŸ“ˆ ì„¼ì„œ ì‹œê³„ì—´                                              â”‚
â”‚  [ì‹œì‘ì¼: 2026-01-14] [ì¢…ë£Œì¼: 2026-01-21]                   â”‚
â”‚  í‘œì‹œí•  ì¶•: [Fz âœ“] [Tx âœ“] [Ty âœ“]                            â”‚
â”‚  [âœ“] íŒ¨í„´ êµ¬ê°„ í‘œì‹œ                                         â”‚
â”‚                                                              â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—              â”‚
â”‚  â•‘  Fz  â–â–‚â–ƒâ–„â–…â–†â–‡â–ˆâ–‡â–†â–…â–„â–ƒâ–‚â–                      â•‘              â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£              â”‚
â”‚  â•‘  Tx  â–â–â–‚â–‚â–ƒâ–ƒâ–„â–„â–…â–…â–†â–†â–‡â–‡â–ˆâ–ˆ                     â•‘              â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£              â”‚
â”‚  â•‘  Ty  â–ˆâ–ˆâ–‡â–‡â–†â–†â–…â–…â–„â–„â–ƒâ–ƒâ–‚â–‚â–â–                     â•‘              â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•              â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 9. Main-S ì‹œë¦¬ì¦ˆ ì™„ë£Œ í˜„í™©

| ë‹¨ê³„ | ì´ë¦„ | ìƒíƒœ | ì‚°ì¶œë¬¼ |
|------|------|------|--------|
| Main-S1 | ì„¼ì„œ ë°ì´í„° ìƒì„± | âœ… ì™„ë£Œ | sensor_generator.py |
| Main-S2 | íŒ¨í„´ ê°ì§€ | âœ… ì™„ë£Œ | pattern_detector.py |
| Main-S3 | ì»¨í…ìŠ¤íŠ¸ í™•ì¥ | âœ… ì™„ë£Œ | context_enricher.py |
| Main-S4 | ì˜¨í†¨ë¡œì§€ í™•ì¥ | âœ… ì™„ë£Œ | graph_retriever.py í™•ì¥ |
| Main-S5 | Verifier í™•ì¥ | âœ… ì™„ë£Œ | sensor_verifier.py, ontology_verifier.py |
| Main-S6 | API/UI í™•ì¥ | âœ… ì™„ë£Œ | sensor_analysis.py |

## 10. ë‹¤ìŒ ë‹¨ê³„

ì„¼ì„œ í†µí•© íŒŒì´í”„ë¼ì¸(Main-S ì‹œë¦¬ì¦ˆ) ì™„ë£Œ. ì¶”ê°€ í™•ì¥ ê°€ëŠ¥ í•­ëª©:

1. **ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°**: WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ì„¼ì„œ ë°ì´í„° í‘œì‹œ
2. **ì•Œë¦¼ ì‹œìŠ¤í…œ**: ì´ìƒ íŒ¨í„´ ê°ì§€ì‹œ ì•Œë¦¼ ë°œì†¡
3. **API ì—”ë“œí¬ì¸íŠ¸**: REST APIë¡œ ì„¼ì„œ ë¶„ì„ ê²°ê³¼ ì œê³µ
4. **ì´ë ¥ ê´€ë¦¬**: íŒ¨í„´ ì´ë ¥ ì €ì¥ ë° íŠ¸ë Œë“œ ë¶„ì„

---

*Generated: 2026-01-21*
